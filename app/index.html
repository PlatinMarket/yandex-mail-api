<!doctype html>
<html lang="en" ng-app="YandexMailApi">
  <head>
    <meta charset="utf-8" />
    <title>YandexMailApi</title>

    <link href="components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="components/fontawesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="components/animate.css/animate.css" rel="stylesheet" />
    <link href="components/bootstrap-sweetalert/lib/sweet-alert.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />

    <!--Angular Bootstrap-->
    <script src="components/angular/angular.js"></script>

    <!--Angular Modules-->
    <script src="components/angular-animate/angular-animate.js"></script>
    <script src="components/angular-resource/angular-resource.js"></script>
    
    <!--3rd Party Javascript-->
    <script src="components/jquery/dist/jquery.js"></script>
    <script src="components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="components/moment/min/moment-with-locales.min.js"></script>
    <script src="components/underscore/underscore-min.js"></script>
    <script src="components/bootstrap-sweetalert/lib/sweet-alert.js"></script>
    <script src="components/holderjs/holder.min.js"></script>

    <!--App Logic-->
    <script src="js/app.js"></script>
    <script src="js/service.js"></script>

    <!--Controllers-->
    <script src="controller/YandexMailApiController.js"></script>
    
    <style type="text/css">
        .highlight {
            font-weight: bold;
        }
    </style>

  </head>

  <body>
    <div class="container" ng-controller="YandexMailApiController">
      <div class="row">
        <div class="col-xs-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Alan adları <span class="badge pull-right">{{domains.length}}</span> <i class="fa fa-refresh fa-spin" ng-show="domainsLoading"></i>
                </div>
                <div class="panel-body">
                    <input type="search" class="form-control" ng-model="domain_name" placeholder="Ara..." />
                </div>
                <div class="list-group domains">
                    <a href class="list-group-item" ng-class="{'list-group-item-warning': (domain.status != 'added' || domain.stage != 'added' || domain.logo_url === '')}" ng-repeat="domain in domains | filter:domain_name:strict | orderBy: 'name'" ng-click="selectDomain(domain)">
                        <span ng-bind-html="highlight(domain.name, domain_name)">{{domain.name}}</span>
                        <i class="fa fa-lock" ng-show="domain.master_admin"></i>
                        <span class="badge">{{domain['emails-count']}}</span>
                        <span class="badge badge-danger" ng-show="domain.status != 'added'">MX</span>
                        <span class="badge badge-danger" ng-show="domain.stage != 'added'"><i class="fa fa-user"></i></span>
                        <span class="badge badge-danger" ng-show="domain.logo_url === ''"><i class="fa fa-picture-o"></i></span>
                    </a>
                </div>
                <div class="panel-body">
                    <div class="input-group" ng-class="{'has-error':(!isValidDomain() && new_domain.trim() != '')}">
                        <input type="text" ng-model="new_domain" class="form-control" placeholder="Eklemek için alan adı yazın..." />
                        <span class="input-group-btn">
                            <button class="btn btn-primary" ng-click="register_domain()" type="button"><i class="fa fa-arrow-right"></i></button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-8">
            <div class="panel panel-default" ng-show="domain">
                <div class="panel-heading">
                    Alan adı bilgileri <i class="fa fa-refresh fa-spin" ng-show="domain.queue > 0"></i>
                </div>
                <div class="panel-body">
                    <div class="media">
                      <div class="media-left">
                        <img class="media-object thumbnail" ng-show="domain.logo_url != ''" ng-src="{{domain.logo_url}}" />
                        <img class="media-object thumbnail" ng-hide="domain.logo_url != ''" data-src="holder.js/80x80/text:Logo yok" />
                    
                      </div>
                      <div class="media-body">
                        <h2 class="media-heading">{{domain.name}} <small ng-show="domain.master_admin" class="text-muted"><i class="fa fa-lock"></i> Master Admin</small></h2>
                        <div ng-show="domain.status != 'added' || domain.stage != 'added'">
                            <span class="label label-danger">Alan adı doğrulanamadı</span>
                        </div>
                        <span class="label label-success" ng-show="domain.status === 'added' || domain.stage === 'added'">Alan adı bağlandı</span>
                        <hr/>
                        <ol>
                            <li ng-show="domain.status != 'added'">Alan adı sahibi olduğunuzu doğrulayın
                                <p>
                                    Sitenin kök dizinine <b>{{domain.remote_status.secrets.name}}.html</b> adlı dosyayı ve <b>{{domain.remote_status.secrets.content}}</b> metnini ekleyin
                                </p>
                                <p><small class="text-muted">veya</small></p>
                                <p>
                                    Alan adınıza bağlı <b>yamail-{{domain.remote_status.secrets.name}}</b> alt alan adı için, CNAME kaydını mail.<b>yandex.com.tr</b> olarak ayarlayın.
                                </p>
                            </li>
                        
                            <li ng-show="domain.stage != 'added'">
                                MX kayıtlarını ayarlayın
                            </li>
                        </ol>
                      </div>
                    </div>
                    <div ng-show="domain.status === 'added' || domain.stage === 'added'">
                        Mail listesi buraya gelecek
                    </div>
                </div>
            </div>
        </div>
      </div>
    </div>
</html>